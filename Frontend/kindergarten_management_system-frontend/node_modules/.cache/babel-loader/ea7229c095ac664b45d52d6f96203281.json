{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming\\\\Projects\\\\KindergartenManagementSystem\\\\Frontend\\\\kindergarten_management_system-frontend\\\\src\\\\components\\\\ResetPasswordComponent.js\";\nimport React, { Component } from \"react\";\nimport UserService from \"../services/UserService\";\n\nclass ResetPasswordComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.changePasswordHandler = e => {\n      this.setState({\n        password: e.target.value\n      });\n    };\n\n    this.confirmPasswordHandler = e => {\n      this.setState({\n        confirmPassword: e.target.value\n      });\n    };\n\n    this.savePassword = e => {\n      e.preventDefault();\n      this.setState({\n        passwordError: \"\",\n        confirmPasswordError: \"\",\n        problems: 0\n      });\n\n      if (this.state.password === \"\") {\n        window.scrollTo(0, 0);\n        this.setState({\n          passwordError: \"Please enter a valid password\",\n          problems: 1\n        });\n      }\n\n      if (this.state.confirmPassword === \"\") {\n        window.scrollTo(0, 0);\n        this.setState({\n          confirmPasswordError: \"Please enter a valid password\",\n          problems: 1\n        });\n      }\n\n      if (this.state.password !== this.state.confirmPassword) {\n        window.scrollTo(0, 0);\n        this.setState({\n          confirmPasswordError: \"Password not match\",\n          problems: 1\n        });\n      }\n\n      if (this.state.password.length < 8) {\n        window.scrollTo(0, 0);\n        this.setState({\n          passwordError: \"Password length must be at least 8 characters\",\n          problems: 1\n        });\n      }\n\n      if (this.state.password.search(/[a-z]/i) < 0) {\n        window.scrollTo(0, 0);\n        this.setState({\n          passwordError: \"Your password must contain at least one letter\",\n          problems: 1\n        });\n      }\n\n      if (this.state.password.search(/[0-9]/) < 0) {\n        window.scrollTo(0, 0);\n        this.setState({\n          passwordError: \"Your password must contain at least one digit\",\n          problems: 1\n        });\n      }\n\n      if (this.state.password.search(/[?=.*[!@#\\$%\\^&\\*]/) < 0) {\n        window.scrollTo(0, 0);\n        this.setState({\n          passwordError: \"Your password must contain at least one special characters\",\n          problems: 1\n        });\n      }\n\n      console.log(this.state.problems);\n\n      if (this.state.problems === 0) {\n        let token = this.state.token;\n        let password = this.state.password;\n        UserService.resetPassword(token, password);\n        alert(\"You have successfully changed your password.\");\n        this.props.history.push(\"/login\");\n      }\n    };\n\n    this.state = {\n      token: this.props.match.params.token,\n      password: \"\",\n      confirmPassword: \"\"\n    };\n    this.changePasswordHandler = this.changePasswordHandler.bind(this);\n    this.confirmPasswordHandler = this.confirmPasswordHandler.bind(this);\n    this.savePassword = this.savePassword.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, \"Forgot Password\")), /*#__PURE__*/React.createElement(\"form\", {\n      style: {\n        width: \"420px\",\n        margin: \"0 auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border border-secondary rounded p-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      className: \"form-control\",\n      required: true,\n      autoFocus: true,\n      placeholder: \"Enter your new password\",\n      value: this.state.password,\n      onChange: this.changePasswordHandler,\n      maxLength: \"120\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"passwordHelp\",\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, this.state.passwordError, \" \")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"confirmPassword\",\n      className: \"form-control\",\n      required: true,\n      placeholder: \"Confirm your new password\",\n      value: this.state.confirmPassword,\n      onChange: this.confirmPasswordHandler,\n      maxLength: \"120\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      id: \"passwordHelp\",\n      className: \"text-danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, this.state.confirmPasswordError, \" \")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.savePassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }\n    }, \"Save\"))))));\n  }\n\n}\n\nexport default ResetPasswordComponent;","map":{"version":3,"sources":["D:/Programming/Projects/KindergartenManagementSystem/Frontend/kindergarten_management_system-frontend/src/components/ResetPasswordComponent.js"],"names":["React","Component","UserService","ResetPasswordComponent","constructor","props","changePasswordHandler","e","setState","password","target","value","confirmPasswordHandler","confirmPassword","savePassword","preventDefault","passwordError","confirmPasswordError","problems","state","window","scrollTo","length","search","console","log","token","resetPassword","alert","history","push","match","params","bind","render","width","margin"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,MAAMC,sBAAN,SAAqCF,SAArC,CAA+C;AAC7CG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAYnBC,qBAZmB,GAYMC,CAAD,IAAO;AAC7B,WAAKC,QAAL,CAAc;AAAEC,QAAAA,QAAQ,EAAEF,CAAC,CAACG,MAAF,CAASC;AAArB,OAAd;AACD,KAdkB;;AAAA,SAgBnBC,sBAhBmB,GAgBOL,CAAD,IAAO;AAC9B,WAAKC,QAAL,CAAc;AAAEK,QAAAA,eAAe,EAAEN,CAAC,CAACG,MAAF,CAASC;AAA5B,OAAd;AACD,KAlBkB;;AAAA,SAoBnBG,YApBmB,GAoBHP,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACQ,cAAF;AAEA,WAAKP,QAAL,CAAc;AACZQ,QAAAA,aAAa,EAAE,EADH;AAEZC,QAAAA,oBAAoB,EAAE,EAFV;AAGZC,QAAAA,QAAQ,EAAE;AAHE,OAAd;;AAMA,UAAI,KAAKC,KAAL,CAAWV,QAAX,KAAwB,EAA5B,EAAgC;AAC9BW,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZQ,UAAAA,aAAa,EAAE,+BADH;AAEZE,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWN,eAAX,KAA+B,EAAnC,EAAuC;AACrCO,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZS,UAAAA,oBAAoB,EAAE,+BADV;AAEZC,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWV,QAAX,KAAwB,KAAKU,KAAL,CAAWN,eAAvC,EAAwD;AACtDO,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZS,UAAAA,oBAAoB,EAAE,oBADV;AAEZC,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWV,QAAX,CAAoBa,MAApB,GAA6B,CAAjC,EAAoC;AAClCF,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZQ,UAAAA,aAAa,EAAE,+CADH;AAEZE,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWV,QAAX,CAAoBc,MAApB,CAA2B,QAA3B,IAAuC,CAA3C,EAA8C;AAC5CH,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZQ,UAAAA,aAAa,EAAE,gDADH;AAEZE,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWV,QAAX,CAAoBc,MAApB,CAA2B,OAA3B,IAAsC,CAA1C,EAA6C;AAC3CH,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZQ,UAAAA,aAAa,EAAE,+CADH;AAEZE,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID;;AAED,UAAI,KAAKC,KAAL,CAAWV,QAAX,CAAoBc,MAApB,CAA2B,oBAA3B,IAAmD,CAAvD,EAA0D;AACxDH,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACA,aAAKb,QAAL,CAAc;AACZQ,UAAAA,aAAa,EACX,4DAFU;AAGZE,UAAAA,QAAQ,EAAE;AAHE,SAAd;AAKD;;AAEDM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWD,QAAvB;;AACA,UAAI,KAAKC,KAAL,CAAWD,QAAX,KAAwB,CAA5B,EAA+B;AAC7B,YAAIQ,KAAK,GAAG,KAAKP,KAAL,CAAWO,KAAvB;AACA,YAAIjB,QAAQ,GAAG,KAAKU,KAAL,CAAWV,QAA1B;AACAP,QAAAA,WAAW,CAACyB,aAAZ,CAA0BD,KAA1B,EAAiCjB,QAAjC;AACAmB,QAAAA,KAAK,CAAC,8CAAD,CAAL;AACA,aAAKvB,KAAL,CAAWwB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACD;AACF,KA9FkB;;AAEjB,SAAKX,KAAL,GAAa;AACXO,MAAAA,KAAK,EAAE,KAAKrB,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBN,KADpB;AAEXjB,MAAAA,QAAQ,EAAE,EAFC;AAGXI,MAAAA,eAAe,EAAE;AAHN,KAAb;AAKA,SAAKP,qBAAL,GAA6B,KAAKA,qBAAL,CAA2B2B,IAA3B,CAAgC,IAAhC,CAA7B;AACA,SAAKrB,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BqB,IAA5B,CAAiC,IAAjC,CAA9B;AACA,SAAKnB,YAAL,GAAoB,KAAKA,YAAL,CAAkBmB,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAsFDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,eAKE;AAAM,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,MAAM,EAAE;AAA1B,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,qCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,EAAE,EAAC,UAHL;AAIE,MAAA,SAAS,EAAC,cAJZ;AAKE,MAAA,QAAQ,MALV;AAME,MAAA,SAAS,MANX;AAOE,MAAA,WAAW,EAAC,yBAPd;AAQE,MAAA,KAAK,EAAE,KAAKjB,KAAL,CAAWV,QARpB;AASE,MAAA,QAAQ,EAAE,KAAKH,qBATjB;AAUE,MAAA,SAAS,EAAC,KAVZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAaE;AAAO,MAAA,EAAE,EAAC,cAAV;AAAyB,MAAA,SAAS,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKa,KAAL,CAAWH,aADd,EAC6B,GAD7B,CAbF,CADF,eAmBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,IAAI,EAAC,iBAFP;AAGE,MAAA,SAAS,EAAC,cAHZ;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,WAAW,EAAC,2BALd;AAME,MAAA,KAAK,EAAE,KAAKG,KAAL,CAAWN,eANpB;AAOE,MAAA,QAAQ,EAAE,KAAKD,sBAPjB;AAQE,MAAA,SAAS,EAAC,KARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAWE;AAAO,MAAA,EAAE,EAAC,cAAV;AAAyB,MAAA,SAAS,EAAC,aAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKO,KAAL,CAAWF,oBADd,EACoC,GADpC,CAXF,CAnBF,eAmCE;AAAG,MAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAoC,MAAA,OAAO,EAAE,KAAKH,YAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAnCF,CADF,CADF,CALF,CADF;AAqDD;;AAvJ4C;;AA0J/C,eAAeX,sBAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport UserService from \"../services/UserService\";\r\n\r\nclass ResetPasswordComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: this.props.match.params.token,\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    };\r\n    this.changePasswordHandler = this.changePasswordHandler.bind(this);\r\n    this.confirmPasswordHandler = this.confirmPasswordHandler.bind(this);\r\n    this.savePassword = this.savePassword.bind(this);\r\n  }\r\n\r\n  changePasswordHandler = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  confirmPasswordHandler = (e) => {\r\n    this.setState({ confirmPassword: e.target.value });\r\n  };\r\n\r\n  savePassword = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({\r\n      passwordError: \"\",\r\n      confirmPasswordError: \"\",\r\n      problems: 0,\r\n    });\r\n\r\n    if (this.state.password === \"\") {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        passwordError: \"Please enter a valid password\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.confirmPassword === \"\") {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        confirmPasswordError: \"Please enter a valid password\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.password !== this.state.confirmPassword) {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        confirmPasswordError: \"Password not match\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.password.length < 8) {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        passwordError: \"Password length must be at least 8 characters\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.password.search(/[a-z]/i) < 0) {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        passwordError: \"Your password must contain at least one letter\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.password.search(/[0-9]/) < 0) {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        passwordError: \"Your password must contain at least one digit\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    if (this.state.password.search(/[?=.*[!@#\\$%\\^&\\*]/) < 0) {\r\n      window.scrollTo(0, 0);\r\n      this.setState({\r\n        passwordError:\r\n          \"Your password must contain at least one special characters\",\r\n        problems: 1,\r\n      });\r\n    }\r\n\r\n    console.log(this.state.problems);\r\n    if (this.state.problems === 0) {\r\n      let token = this.state.token;\r\n      let password = this.state.password;\r\n      UserService.resetPassword(token, password);\r\n      alert(\"You have successfully changed your password.\");\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <h2 className=\"text-center\">Forgot Password</h2>\r\n        </div>\r\n\r\n        <form style={{ width: \"420px\", margin: \"0 auto\" }}>\r\n          <div className=\"border border-secondary rounded p-3\">\r\n            <div>\r\n              <p>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  autoFocus\r\n                  placeholder=\"Enter your new password\"\r\n                  value={this.state.password}\r\n                  onChange={this.changePasswordHandler}\r\n                  maxLength=\"120\"\r\n                />\r\n                <small id=\"passwordHelp\" className=\"text-danger\">\r\n                  {this.state.passwordError}{\" \"}\r\n                </small>\r\n              </p>\r\n\r\n              <p>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"confirmPassword\"\r\n                  className=\"form-control\"\r\n                  required\r\n                  placeholder=\"Confirm your new password\"\r\n                  value={this.state.confirmPassword}\r\n                  onChange={this.confirmPasswordHandler}\r\n                  maxLength=\"120\"\r\n                />\r\n                <small id=\"passwordHelp\" className=\"text-danger\">\r\n                  {this.state.confirmPasswordError}{\" \"}\r\n                </small>\r\n              </p>\r\n\r\n              <p className=\"text-center\">\r\n                <button className=\"btn btn-success\" onClick={this.savePassword}>\r\n                  Save\r\n                </button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResetPasswordComponent;\r\n"]},"metadata":{},"sourceType":"module"}